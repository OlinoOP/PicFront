{"ast":null,"code":"import { Medico } from 'src/app/models/medico/medico';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/medico/medico.service\";\nimport * as i2 from \"src/app/services/usuario/usuario.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction MedicoComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function MedicoComponent_tr_14_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const medico_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.preparaEdicao(medico_r2));\n    });\n    i0.ɵɵtext(11, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function MedicoComponent_tr_14_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const medico_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.preparaEdicao(medico_r2));\n    });\n    i0.ɵɵtext(13, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const medico_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medico_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medico_r2.crm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medico_r2.telefone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medico_r2.usuario.nome);\n  }\n}\nfunction MedicoComponent_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const usuario_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", usuario_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(usuario_r6.nome);\n  }\n}\nexport class MedicoComponent {\n  constructor(medicoService, usuarioService) {\n    this.medicoService = medicoService;\n    this.usuarioService = usuarioService;\n    this.medicos = [];\n    this.novoMedico = new Medico();\n    this.usuarios = [];\n  }\n  ngOnInit() {\n    this.carregarUsuarios();\n    this.carregarMedicos();\n  }\n  carregarMedicos() {\n    this.medicoService.list().subscribe(medicos => this.medicos = medicos);\n  }\n  carregarUsuarios() {\n    this.usuarioService.list().subscribe(usuarios => this.usuarios = usuarios);\n  }\n  adicionarMedico() {\n    this.novoMedico.usuario.permissao = 2;\n    this.medicoService.adicionarMedico(this.novoMedico).subscribe(medico => {\n      this.novoMedico = new Medico();\n      this.carregarMedicos();\n    });\n  }\n  editarMedico(medico) {\n    this.medicoService.editarMedico(medico).subscribe(medico => {\n      this.novoMedico = new Medico();\n      this.carregarMedicos();\n    });\n  }\n  preparaEdicao(medico) {\n    this.novoMedico = medico;\n  }\n  excluirMedico(medico) {}\n}\nMedicoComponent.ɵfac = function MedicoComponent_Factory(t) {\n  return new (t || MedicoComponent)(i0.ɵɵdirectiveInject(i1.MedicoService), i0.ɵɵdirectiveInject(i2.UsuarioService));\n};\nMedicoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MedicoComponent,\n  selectors: [[\"app-medico\"]],\n  decls: 81,\n  vars: 7,\n  consts: [[1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalAdicionarMedico\", 1, \"btn\", \"btn-success\"], [\"id\", \"modalAdicionarMedico\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"submit\"], [1, \"form-group\"], [\"for\", \"crm\", 1, \"form-label\"], [\"name\", \"crm\", \"type\", \"text\", \"id\", \"crmAd\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"telefone\", 1, \"form-label\"], [\"name\", \"telefone\", \"type\", \"text\", \"id\", \"telefoneAd\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"usuario\", 1, \"form-label\"], [\"id\", \"usuarioAd\", \"name\", \"usuario\", 1, \"form-control\", \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [\"id\", \"modalEditarMedico\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"name\", \"crm\", \"type\", \"text\", \"id\", \"crmEd\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"telefone\", \"type\", \"text\", \"id\", \"telefoneEd\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"id\", \"modalExcluirMedico\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalEditarMedico\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalExcluirMedico\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [3, \"value\"]],\n  template: function MedicoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"M\\u00E9dicos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 0)(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"CRM\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Telefone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Usu\\u00E1rio\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"tbody\");\n      i0.ɵɵtemplate(14, MedicoComponent_tr_14_Template, 14, 4, \"tr\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"button\", 2);\n      i0.ɵɵtext(16, \" Adicionar M\\u00E9dico\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"div\", 4)(19, \"div\", 5)(20, \"div\", 6)(21, \"h5\", 7);\n      i0.ɵɵtext(22, \"Adicionar Novo M\\u00E9dico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"button\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 9)(25, \"form\", 10);\n      i0.ɵɵlistener(\"submit\", function MedicoComponent_Template_form_submit_25_listener() {\n        return ctx.adicionarMedico();\n      });\n      i0.ɵɵelementStart(26, \"div\", 11)(27, \"label\", 12);\n      i0.ɵɵtext(28, \"CRM:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function MedicoComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.novoMedico.crm = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 11)(31, \"label\", 14);\n      i0.ɵɵtext(32, \"Telefone:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function MedicoComponent_Template_input_ngModelChange_33_listener($event) {\n        return ctx.novoMedico.telefone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 11)(35, \"label\", 16);\n      i0.ɵɵtext(36, \"Usu\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"select\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function MedicoComponent_Template_select_ngModelChange_37_listener($event) {\n        return ctx.novoMedico.usuario = $event;\n      });\n      i0.ɵɵtemplate(38, MedicoComponent_option_38_Template, 2, 2, \"option\", 18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 19)(40, \"button\", 20);\n      i0.ɵɵtext(41, \"Cancelar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"button\", 21);\n      i0.ɵɵtext(43, \"Adicionar\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(44, \"div\", 22)(45, \"div\", 4)(46, \"div\", 5)(47, \"div\", 6)(48, \"h5\", 7);\n      i0.ɵɵtext(49, \"Editar M\\u00E9dico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"button\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 9)(52, \"form\", 10);\n      i0.ɵɵlistener(\"submit\", function MedicoComponent_Template_form_submit_52_listener() {\n        return ctx.editarMedico(ctx.novoMedico);\n      });\n      i0.ɵɵelementStart(53, \"div\", 11)(54, \"label\", 12);\n      i0.ɵɵtext(55, \"CRM:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"input\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function MedicoComponent_Template_input_ngModelChange_56_listener($event) {\n        return ctx.novoMedico.crm = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(57, \"div\", 11)(58, \"label\", 14);\n      i0.ɵɵtext(59, \"Telefone:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"input\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function MedicoComponent_Template_input_ngModelChange_60_listener($event) {\n        return ctx.novoMedico.telefone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(61, \"div\", 19)(62, \"button\", 20);\n      i0.ɵɵtext(63, \"Cancelar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"button\", 25);\n      i0.ɵɵtext(65, \"Editar\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(66, \"div\", 26)(67, \"div\", 4)(68, \"div\", 5)(69, \"div\", 6)(70, \"h5\", 7);\n      i0.ɵɵtext(71, \"Excluir M\\u00E9dico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(72, \"button\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"div\", 9)(74, \"p\");\n      i0.ɵɵtext(75, \"Tem certeza que deseja excluir o M\\u00E9dico selecionado?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(76, \"div\", 19)(77, \"button\", 27);\n      i0.ɵɵtext(78, \"Cancelar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"button\", 28);\n      i0.ɵɵlistener(\"click\", function MedicoComponent_Template_button_click_79_listener() {\n        return ctx.excluirMedico(ctx.novoMedico);\n      });\n      i0.ɵɵtext(80, \"Excluir\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.medicos);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngModel\", ctx.novoMedico.crm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.novoMedico.telefone);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.novoMedico.usuario);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.usuarios);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngModel\", ctx.novoMedico.crm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.novoMedico.telefone);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Medico","i0","MedicoComponent","constructor","medicoService","usuarioService","ngOnInit","carregarUsuarios","carregarMedicos","list","subscribe","medicos","usuarios","adicionarMedico","novoMedico","usuario","permissao","medico","editarMedico","preparaEdicao","excluirMedico","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\bruno\\Desktop\\Pic\\MaracaiSGH\\src\\app\\components\\medico\\medico.component.ts","C:\\Users\\bruno\\Desktop\\Pic\\MaracaiSGH\\src\\app\\components\\medico\\medico.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Medico } from 'src/app/models/medico/medico';\nimport { Usuario } from 'src/app/models/usuario/usuario';\nimport { MedicoService } from 'src/app/services/medico/medico.service';\nimport { UsuarioService } from 'src/app/services/usuario/usuario.service';\n\n@Component({\n  selector: 'app-medico',\n  templateUrl: './medico.component.html',\n  styleUrls: ['./medico.component.css']\n})\nexport class MedicoComponent {\n  medicos: Medico[] = [];\n  novoMedico: Medico = new Medico();\n  usuarios: Usuario[] = [];\n\n  constructor(private medicoService: MedicoService, private usuarioService: UsuarioService) { }\n  \n  ngOnInit(): void {\n    this.carregarUsuarios();\n    this.carregarMedicos();\n  }\n  carregarMedicos(): void {\n    this.medicoService.list()\n    .subscribe(medicos => this.medicos = medicos);  \n  }\n\n  carregarUsuarios(): void {\n    this.usuarioService.list()\n    .subscribe(usuarios => this.usuarios = usuarios);\n  }\n\n  adicionarMedico(): void {\n    this.novoMedico.usuario.permissao = 2;\n    this.medicoService.adicionarMedico(this.novoMedico).subscribe(medico => {\n      this.novoMedico = new Medico();\n      this.carregarMedicos();\n    });\n  }\n\n  editarMedico(medico: Medico): void {\n    this.medicoService.editarMedico(medico).subscribe(medico => {\n      this.novoMedico = new Medico();\n      this.carregarMedicos();\n    });\n  }\n\n  preparaEdicao(medico: Medico): void {\n    this.novoMedico = medico;\n  }\n\n  excluirMedico(medico: Medico): void {\n  }\n}\n","<h2>Médicos</h2>\n\n<table class=\"table table-striped\">\n  <thead>\n    <tr>\n      <th>ID</th>\n      <th>CRM</th>\n      <th>Telefone</th>\n      <th>Usuário</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let medico of medicos\">\n      <td>{{ medico.id }}</td>\n      <td>{{ medico.crm }}</td>\n      <td>{{ medico.telefone }}</td>\n      <td>{{ medico.usuario.nome }}</td>\n      <td>\n        <button type=\"button\" class=\"btn btn-primary btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#modalEditarMedico\" (click)=\"preparaEdicao(medico)\">Editar</button>\n        <button type=\"button\" class=\"btn btn-danger btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#modalExcluirMedico\" (click)=\"preparaEdicao(medico)\">Excluir</button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<!-- Botão trigger modal -->\n<button type=\"button\" class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#modalAdicionarMedico\">\n  Adicionar Médico\n</button>\n\n<!-- Modal Adicionar Médico -->\n<div class=\"modal fade\" id=\"modalAdicionarMedico\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Adicionar Novo Médico</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <form (submit)=\"adicionarMedico()\">\n          <div class=\"form-group\">\n            <label for=\"crm\" class=\"form-label\">CRM:</label>\n            <input name=\"crm\" type=\"text\" class=\"form-control\" id=\"crmAd\" [(ngModel)]=\"novoMedico.crm\" required>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"telefone\" class=\"form-label\">Telefone:</label>\n            <input name=\"telefone\" type=\"text\" class=\"form-control\" id=\"telefoneAd\" [(ngModel)]=\"novoMedico.telefone\" required>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"usuario\" class=\"form-label\">Usuário:</label>\n            <select id=\"usuarioAd\" class=\"form-control form-select\" [(ngModel)]=\"novoMedico.usuario\" name=\"usuario\">\n              <option *ngFor=\"let usuario of usuarios\" [value]=\"usuario\">{{ usuario.nome }}</option>\n            </select>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\">Cancelar</button>\n            <button type=\"submit\" class=\"btn btn-success\">Adicionar</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Modal Editar Médico -->\n<div class=\"modal fade\" id=\"modalEditarMedico\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Editar Médico</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <form (submit)=\"editarMedico(novoMedico)\">\n          <div class=\"form-group\">\n            <label for=\"crm\" class=\"form-label\">CRM:</label>\n            <input name=\"crm\" type=\"text\" class=\"form-control\" id=\"crmEd\" [(ngModel)]=\"novoMedico.crm\" required>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"telefone\" class=\"form-label\">Telefone:</label>\n            <input name=\"telefone\" type=\"text\" class=\"form-control\" id=\"telefoneEd\" [(ngModel)]=\"novoMedico.telefone\" required>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\">Cancelar</button>\n            <button type=\"submit\" class=\"btn btn-primary\">Editar</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Modal Excluir Médico -->\n<div class=\"modal fade\" id=\"modalExcluirMedico\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Excluir Médico</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <p>Tem certeza que deseja excluir o Médico selecionado?</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">Cancelar</button>\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"excluirMedico(novoMedico)\">Excluir</button>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}